<!DOCTYPE html>
<html>
<head>
    <title>Tileset Viewer</title>
    <style>
        body { background: #222; color: white; font-family: monospace; }
        canvas { border: 2px solid white; image-rendering: pixelated; }
        #info { margin: 20px; }
    </style>
</head>
<body>
    <div id="info">
        <h2>Fulltilesheet Viewer (32x32 tiles, 16x20 grid)</h2>
        <p>Click on a tile to see its coordinates</p>
        <p id="coords">Coords: -</p>
    </div>
    <canvas id="canvas"></canvas>
    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        const coordsEl = document.getElementById('coords');
        const tileSize = 32;
        const cols = 16;
        const rows = 20;
        
        canvas.width = cols * tileSize * 2;
        canvas.height = rows * tileSize * 2;
        
        const img = new Image();
        img.src = '/img/fulltilesheet.png';
        img.onload = () => {
            ctx.imageSmoothingEnabled = false;
            ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
            
            // Draw grid
            ctx.strokeStyle = 'rgba(255, 0, 0, 0.5)';
            ctx.lineWidth = 1;
            for (let x = 0; x <= cols; x++) {
                ctx.beginPath();
                ctx.moveTo(x * tileSize * 2, 0);
                ctx.lineTo(x * tileSize * 2, canvas.height);
                ctx.stroke();
            }
            for (let y = 0; y <= rows; y++) {
                ctx.beginPath();
                ctx.moveTo(0, y * tileSize * 2);
                ctx.lineTo(canvas.width, y * tileSize * 2);
                ctx.stroke();
            }
            
            // Draw coordinates
            ctx.fillStyle = 'rgba(255, 255, 255, 0.8)';
            ctx.font = '12px monospace';
            for (let y = 0; y < rows; y++) {
                for (let x = 0; x < cols; x++) {
                    ctx.fillText(`${x},${y}`, x * tileSize * 2 + 2, y * tileSize * 2 + 14);
                }
            }
        };
        
        canvas.addEventListener('click', (e) => {
            const rect = canvas.getBoundingClientRect();
            const x = Math.floor((e.clientX - rect.left) / (tileSize * 2));
            const y = Math.floor((e.clientY - rect.top) / (tileSize * 2));
            coordsEl.textContent = `Coords: x=${x}, y=${y}`;
        });
    </script>
</body>
</html>
